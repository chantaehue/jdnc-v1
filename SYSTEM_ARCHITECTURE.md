# 🏗️ 스마트팜 서비스 시스템 아키텍처 가이드
>
> **작성 목적**: 현재 프로토타입(LocalStorage 기반)에서 실제 상용 서비스(Server & Database 기반)로 발전시키기 위한 기술 로드맵 제시

## 1. 현재 시스템의 상태와 한계

현재 스마트팜 대시보드는 **클라이언트 사이드(Client-side only)** 방식으로 동작하고 있습니다.

* **저장 위치**: 방문자의 브라우저 `localStorage`
* **⚠️ 치명적인 문제점**:
    1. **데이터 휘발**: 브라우저 캐시를 지우거나 시크릿 모드로 접속하면 모든 정보가 사라집니다.
    2. **기기 연동 불가**: PC에서 저장한 데이터가 모바일에서는 보이지 않습니다.
    3. **보안 취약**: `localStorage`는 누구나 내용을 볼 수 있어 실제 비밀번호나 결제 정보를 저장하면 안 됩니다.

---

## 2. 실제 서비스를 위한 해결책

데이터를 영구적으로 보관하고 안전하게 관리하려면 **"백엔드 서버(Server)"**와 **"데이터베이스(DB)"**가 필요합니다.

### 💡 추천 솔루션: Firebase (Google Cloud)

구글이 제공하는 **BaaS(Backend as a Service)** 플랫폼으로, 서버를 직접 구축하지 않고도 회원가입, 데이터베이스, 호스팅을 한 번에 해결할 수 있습니다.

| 기능 | Firebase 제공 서비스 | 설명 |
| :--- | :--- | :--- |
| **회원가입/로그인** | **Authentication** | 이메일, 비밀번호, Google/Kakao 로그인 등을 코드 몇 줄로 구현 |
| **데이터 저장** | **Firestore (DB)** | 회원 정보, 온실/양액 데이터를 실시간으로 클라우드에 저장 |
| **웹사이트 배포** | **Hosting** | 전 세계 어디서든 접속 가능한 URL 제공 (HTTPS 보안 기본 적용) |

* **추천 이유**: 초기 구축 속도가 매우 빠르고(1시간 이내 연동 가능), 일정 규모까지 무료로 사용할 수 있습니다.

---

## 3. 기술 로드맵 (단계별)

### 🚀 1단계: Firebase 연동 (가장 빠름)

서버 코드를 짜는 대신, Firebase SDK를 프론트엔드(`index.html`)에 심어서 바로 DB와 통신합니다.

* `localStorage` 관련 코드를 `firebase.firestore()` 코드로 교체
* `auth.js`를 `firebase.auth()`로 교체
* **예상 소요 시간**: 약 1~2일

### 🛠️ 2단계: 자체 백엔드 구축 (Node.js + MySQL)

서비스가 커져서 복잡한 로직(예: 스마트팜 장비 직접 제어, 복잡한 통계 쿼리)이 필요해질 때 전환합니다.

* **Server**: Node.js (Express, NestJS) 또는 Python (FastAPI)
* **Database**: MySQL, PostgreSQL (AWS RDS 이용)
* **장점**: 데이터 구조를 더 엄격하게 관리하고 기능 확장이 자유로움
* **단점**: 구축 및 유지보수 비용 발생, 개발 기간 길어짐

---

## 4. 제안 사항

사용자님의 현재 상황에서는 **[1단계: Firebase 연동]**을 강력히 추천합니다.

**지금 바로 시도해 볼 수 있는 작업:**

1. 제가 **Firebase 프로젝트 설정 코드**를 제공해 드릴 수 있습니다. (사용자님의 구글 계정이 필요할 수 있음)
2. 현재 코드를 수정하여 **이메일 회원가입/로그인**이 실제로 작동하고, 데이터가 구글 서버에 저장되도록 변경할 수 있습니다.

어떤 방향으로 진행하시겠습니까?
